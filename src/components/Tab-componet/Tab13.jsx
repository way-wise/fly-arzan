import React, { useState } from "react";
import ClosedFaq from "../../assets/Images/ClosedFaq.png";
import Openedfaq from "../../assets/Images/Openedfaq.png";
import { Tab, Tabs, TabList, TabPanel } from "react-tabs";
import "react-tabs/style/react-tabs.css";
import Flightscard from "../Dashboard_page_compontes/Flightscard";
import Carcard from "../Dashboard_page_compontes/Carcard";
import Hotelscard from "../Dashboard_page_compontes/Hotelscard";
import { useNavigate } from "react-router-dom";
import { useGet } from "../../utils/ApiMethod";
import { BackendUrl } from "../../baseUrl";
import FlightCard from "../Flights_cards/FlightCard";

const Tab13 = () => {
  const [modalShow, setModalShow] = React.useState(false);
  const [currentPage, setCurrentPage] = useState(1);

  const { data: flightsData, loading } = useGet(
    `/flight?page=${currentPage}&limit=6`,
    true,
    BackendUrl,
    false
  );

  const navigate = useNavigate();


  const handlePageChange = (event, page) => {
    setCurrentPage(page);
  };
  return (
    <>
      <div className="Dashboard-Tab-box">
        <Tabs>
          <div className="Dashboard-Tab-head ManageCotent-class">
            <TabList>
              <Tab>
                {" "}
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  viewBox="0 0 16 16"
                  fill="none"
                >
                  <g clipPath="url(#clip0_261_2307)">
                    <path
                      d="M14.9156 0.441365C14.3423 -0.131916 13.4099 -0.122336 12.8485 0.462634L9.77571 3.66469L2.27685 1.18304L0.702698 2.75722L6.95324 6.60581L3.79047 9.90153L1.76222 9.56854L0.339417 10.9913L3.32125 12.0357L4.36566 15.0176L5.78846 13.5948L5.45547 11.5665L8.75119 8.40379L12.5998 14.6543L14.174 13.0801L11.6923 5.58127L14.8943 2.50846C15.4793 1.94708 15.4889 1.01468 14.9156 0.441365Z"
                      fill="#939393"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0_261_2307">
                      <rect
                        width="15"
                        height="15"
                        fill="white"
                        transform="translate(0.339417 0.0175781)"
                      />
                    </clipPath>
                  </defs>
                </svg>
                Flights
              </Tab>
              <Tab>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  viewBox="0 0 16 16"
                  fill="none"
                >
                  <g clipPath="url(#clip0_261_2313)">
                    <path
                      d="M6.90192 10.7988H8.77692V14.0801H6.90192V10.7988Z"
                      fill="#939393"
                    />
                    <path
                      d="M14.8037 13.9461H13.7323V3.23186C13.7323 2.91044 13.518 2.69615 13.1966 2.69615H12.6608V0.553292C12.6608 0.231864 12.4466 0.0175781 12.1251 0.0175781H3.5537C3.23227 0.0175781 3.01799 0.231864 3.01799 0.553292V2.69615H2.48227C2.16085 2.69615 1.94656 2.91044 1.94656 3.23186V13.9461H0.875131C0.553702 13.9461 0.339417 14.1604 0.339417 14.4819C0.339417 14.8033 0.553702 15.0176 0.875131 15.0176H5.69656V10.7319C5.69656 10.4104 5.91084 10.1961 6.23227 10.1961H9.44656C9.76799 10.1961 9.98227 10.4104 9.98227 10.7319V15.0176H14.8037C15.1251 15.0176 15.3394 14.8033 15.3394 14.4819C15.3394 14.1604 15.1251 13.9461 14.8037 13.9461ZM11.0537 4.30329C11.3751 4.30329 11.5894 4.51758 11.5894 4.83901V5.91044C11.5894 6.23186 11.3751 6.44615 11.0537 6.44615C10.7323 6.44615 10.518 6.23186 10.518 5.91044V4.83901C10.518 4.51758 10.7323 4.30329 11.0537 4.30329ZM4.62513 12.339C4.62513 12.6604 4.41084 12.8747 4.08942 12.8747C3.76799 12.8747 3.5537 12.6604 3.5537 12.339V11.2676C3.5537 10.9461 3.76799 10.7319 4.08942 10.7319C4.41084 10.7319 4.62513 10.9461 4.62513 11.2676V12.339ZM5.16084 9.12472C5.16084 9.44615 4.94656 9.66043 4.62513 9.66043C4.3037 9.66043 4.08942 9.44615 4.08942 9.12472V8.05329C4.08942 7.73186 4.3037 7.51758 4.62513 7.51758C4.94656 7.51758 5.16084 7.73186 5.16084 8.05329V9.12472ZM5.16084 5.91044C5.16084 6.23186 4.94656 6.44615 4.62513 6.44615C4.3037 6.44615 4.08942 6.23186 4.08942 5.91044V4.83901C4.08942 4.51758 4.3037 4.30329 4.62513 4.30329C4.94656 4.30329 5.16084 4.51758 5.16084 4.83901V5.91044ZM5.69656 3.76758C5.37513 3.76758 5.16084 3.55329 5.16084 3.23186V2.16044C5.16084 1.83901 5.37513 1.62472 5.69656 1.62472C6.01799 1.62472 6.23227 1.83901 6.23227 2.16044V3.23186C6.23227 3.55329 6.01799 3.76758 5.69656 3.76758ZM7.3037 9.12472C7.3037 9.44615 7.08942 9.66043 6.76799 9.66043C6.44656 9.66043 6.23227 9.44615 6.23227 9.12472V8.05329C6.23227 7.73186 6.44656 7.51758 6.76799 7.51758C7.08942 7.51758 7.3037 7.73186 7.3037 8.05329V9.12472ZM7.3037 5.91044C7.3037 6.23186 7.08942 6.44615 6.76799 6.44615C6.44656 6.44615 6.23227 6.23186 6.23227 5.91044V4.83901C6.23227 4.51758 6.44656 4.30329 6.76799 4.30329C7.08942 4.30329 7.3037 4.51758 7.3037 4.83901V5.91044ZM7.83942 3.76758C7.51799 3.76758 7.3037 3.55329 7.3037 3.23186V2.16044C7.3037 1.83901 7.51799 1.62472 7.83942 1.62472C8.16084 1.62472 8.37513 1.83901 8.37513 2.16044V3.23186C8.37513 3.55329 8.16084 3.76758 7.83942 3.76758ZM9.44656 9.12472C9.44656 9.44615 9.23227 9.66043 8.91084 9.66043C8.58942 9.66043 8.37513 9.44615 8.37513 9.12472V8.05329C8.37513 7.73186 8.58942 7.51758 8.91084 7.51758C9.23227 7.51758 9.44656 7.73186 9.44656 8.05329V9.12472ZM9.44656 5.91044C9.44656 6.23186 9.23227 6.44615 8.91084 6.44615C8.58942 6.44615 8.37513 6.23186 8.37513 5.91044V4.83901C8.37513 4.51758 8.58942 4.30329 8.91084 4.30329C9.23227 4.30329 9.44656 4.51758 9.44656 4.83901V5.91044ZM9.98227 3.76758C9.66084 3.76758 9.44656 3.55329 9.44656 3.23186V2.16044C9.44656 1.83901 9.66084 1.62472 9.98227 1.62472C10.3037 1.62472 10.518 1.83901 10.518 2.16044V3.23186C10.518 3.55329 10.3037 3.76758 9.98227 3.76758ZM10.518 9.12472V8.05329C10.518 7.73186 10.7323 7.51758 11.0537 7.51758C11.3751 7.51758 11.5894 7.73186 11.5894 8.05329V9.12472C11.5894 9.44615 11.3751 9.66043 11.0537 9.66043C10.7323 9.66043 10.518 9.44615 10.518 9.12472ZM12.1251 12.339C12.1251 12.6604 11.9108 12.8747 11.5894 12.8747C11.268 12.8747 11.0537 12.6604 11.0537 12.339V11.2676C11.0537 10.9461 11.268 10.7319 11.5894 10.7319C11.9108 10.7319 12.1251 10.9461 12.1251 11.2676V12.339Z"
                      fill="#939393"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0_261_2313">
                      <rect
                        width="15"
                        height="15"
                        fill="white"
                        transform="translate(0.339417 0.0175781)"
                      />
                    </clipPath>
                  </defs>
                </svg>{" "}
                Hotels
              </Tab>
              <Tab>
                {" "}
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  viewBox="0 0 16 16"
                  fill="none"
                >
                  <g clipPath="url(#clip0_261_2318)">
                    <path
                      d="M15.2534 5.49387C15.18 5.40438 15.0706 5.35215 14.9557 5.35215H13.4959C13.1356 4.40195 12.6663 3.47095 12.1328 3.11953C10.2873 1.90547 5.3923 1.90547 3.54682 3.11953C3.01296 3.47134 2.54554 4.40349 2.18336 5.35215H0.723495C0.607505 5.35215 0.498428 5.40438 0.425838 5.49387C0.352864 5.58298 0.323674 5.70089 0.347487 5.81419L0.56372 6.86194C0.600592 7.04054 0.758062 7.16805 0.939729 7.16805H1.3722C0.954708 7.64968 0.752301 8.25613 0.749612 8.86297C0.746924 9.61268 1.03152 10.2902 1.55194 10.7695C1.5577 10.7745 1.56346 10.778 1.56884 10.7829V12.249C1.56884 12.5666 1.82694 12.8251 2.14495 12.8251H3.49151C3.80953 12.8251 4.06763 12.5666 4.06763 12.249V11.6598H11.6112V12.249C11.6112 12.5666 11.8693 12.8251 12.1873 12.8251H13.5339C13.8511 12.8251 14.11 12.5666 14.11 12.249V10.8118C14.6623 10.3059 14.9262 9.60999 14.9296 8.9152C14.9319 8.28762 14.7203 7.65889 14.2782 7.16728H14.7395C14.9219 7.16728 15.0794 7.03977 15.1155 6.86079L15.3321 5.81342C15.3544 5.70089 15.3264 5.58374 15.2534 5.49387ZM4.17939 4.08163C5.65039 3.11338 10.0285 3.11338 11.4987 4.08163C11.7844 4.26906 12.152 5.02684 12.4888 5.95476H3.19002C3.52608 5.02722 3.89364 4.26983 4.17939 4.08163ZM2.45644 9.00738C2.45644 8.38134 2.96418 7.87436 3.58984 7.87436C4.21626 7.87436 4.72324 8.38134 4.72324 9.00738C4.72324 9.63342 4.21626 10.1408 3.58984 10.1408C2.96418 10.1408 2.45644 9.63342 2.45644 9.00738ZM12.104 10.1408C11.4783 10.1408 10.9706 9.63342 10.9706 9.00738C10.9706 8.38134 11.4783 7.87436 12.104 7.87436C12.7304 7.87436 13.2374 8.38134 13.2374 9.00738C13.2374 9.63342 12.7296 10.1408 12.104 10.1408Z"
                      fill="#272727"
                      fill-opacity="0.5"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0_261_2318">
                      <rect
                        width="15"
                        height="14.9996"
                        fill="white"
                        transform="translate(0.339417 0.0175781)"
                      />
                    </clipPath>
                  </defs>
                </svg>
                Car{" "}
              </Tab>
            </TabList>

            <div className="add-button">
              <button onClick={() => navigate("/Dashboard/flight")}>
                Add +
              </button>
            </div>
          </div>

          <div className="Dashboard-Tab-body ManageCotent-body">
            <TabPanel>
              {loading ? (
                <div>
                  <p>Loading...</p>
                </div>
              ) : flightsData?.data?.length > 0 ? (
                <FlightCard
                  cardData={flightsData?.data}
                  notToShow={true}
                  paginationToShow={true}
                  count={flightsData?.totalPages}
                  page={currentPage} // Current page from state

                  onHandleChange={handlePageChange}
                />
              ) : (
                "No Data Found"
              )}
            </TabPanel>

            <TabPanel>
              <Hotelscard />
            </TabPanel>

            <TabPanel>
              <Carcard />
            </TabPanel>
          </div>
        </Tabs>
      </div>
    </>
  );
};

export default Tab13;
